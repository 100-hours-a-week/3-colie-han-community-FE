<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Satellite</title>
  <link rel="stylesheet" href="./css/landing.css" />
</head>
<body>
  <div class="starfield">
    <svg class="constellation constellation--left" viewBox="0 0 260 260" aria-hidden="true">
      <g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="40" y1="200" x2="90" y2="150" />
        <line x1="90" y1="150" x2="120" y2="90" />
        <line x1="120" y1="90" x2="60" y2="40" />
        <line x1="120" y1="90" x2="200" y2="120" />
        <line x1="200" y1="120" x2="210" y2="60" />
      </g>
      <g fill="currentColor">
        <circle cx="40" cy="200" r="3.5" />
        <circle cx="90" cy="150" r="3" />
        <circle cx="120" cy="90" r="4" />
        <circle cx="60" cy="40" r="2.8" />
        <circle cx="200" cy="120" r="3.2" />
        <circle cx="210" cy="60" r="2.6" />
      </g>
    </svg>

    <svg class="constellation constellation--right" viewBox="0 0 260 260" aria-hidden="true">
      <g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="50" y1="60" x2="120" y2="40" />
        <line x1="120" y1="40" x2="180" y2="90" />
        <line x1="180" y1="90" x2="210" y2="150" />
        <line x1="210" y1="150" x2="150" y2="190" />
        <line x1="150" y1="190" x2="80" y2="160" />
        <line x1="80" y1="160" x2="60" y2="110" />
      </g>
      <g fill="currentColor">
        <circle cx="50" cy="60" r="3" />
        <circle cx="120" cy="40" r="3.4" />
        <circle cx="180" cy="90" r="3.2" />
        <circle cx="210" cy="150" r="3.8" />
        <circle cx="150" cy="190" r="3" />
        <circle cx="80" cy="160" r="2.6" />
        <circle cx="60" cy="110" r="2.8" />
      </g>
    </svg>

    <div class="welcome-card">
      <p class="welcome-label">Welcome to</p>
      <h1 class="welcome-title">Satellite</h1>
      <p class="welcome-desc">
        자유롭게 생각을 나누고 서로의 흔적을 남겨보세요.<br />
        지금 바로 게시판으로 입장할 수 있어요.
      </p>
      <button class="enter-btn" type="button">입장하기</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const API_BASE = "http://localhost:8080";

      const button = document.querySelector(".enter-btn");
      if (button) {
        button.addEventListener("click", async () => {
          try {
            const res = await fetch(`${API_BASE}/users`, {
              method: "GET",
              credentials: "include",
            });

            if (!res.ok) {
              window.location.href = "./login";
              return;
            }

            window.location.href = "/postList";
          } catch (_) {
            window.location.href = "./login";
          }
        });
      }
    });
  </script>
</body>
</html>
